# TURNtoURN

## Transformation from TURN to URN using ATL
  
**ATL -** Phase 1 of transformation. Turn2Urn.atl is the primary transformation file and **uses** ConnectNodes.atl using Module Superimposition  
  
**Input -** TURN model saved in .xml format (sample file provided)  
  
**Output -** .jucm output generated by transformation  
  
**Metamodels -** Turn.ecore    
  
**Expected Outputs -** expected output .jucm files for all test cases  
  
**Turn2UrnPhase2.java -** Phase 2 of transformation 

## TODO
* Refactor for increased readability
	* Rearrange methods so that their order feels more natural.
	* Change names of variables that are single letters (in particular, haven't handled this in the case of parameters for called rules)
* Refactor for increased consistency
	* All if and else loops, including single line ones, should have braces
	* Decide on a naming convention for source and target model elements. Either stick to s and t or have the names be descriptive.
	* Need consistency with whether empty from / to items have () or not
	* Decide if all conditionals should have an else loop that explicitly states the else case should not be entered in valid method calls
		* Determine if error messages can be sent out by ATL in these cases
	* Make all caps variable names into camel case (all caps was for refactoring purposes to make variable names easier to find)
	* Make sure all select(n.name='') are consistent in (Turn2Urn remains)
* Consider writing a getFromSequenceByName method
* Look at all uses of -> including and -> union to see if they are behaving correctly
* Determine why we pass along tUCMmap rather than storing it in a global variable like OrForkMap, AndForkMap; pick one convention to stick to.

## ACTIVE TASK
I am currently refactoring the code until it is at a point I feel is sufficiently readable for me to troubleshoot it. I have significantly improved readability but cannot be sure of functionality. I have likely broken some code along the way, and the current version is broken. However, the original version was also broken, so this should not be an issue.